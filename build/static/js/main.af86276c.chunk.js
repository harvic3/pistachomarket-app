(this["webpackJsonppistachomarket-app"]=this["webpackJsonppistachomarket-app"]||[]).push([[0],{36:function(e,t,a){},55:function(e,t,a){e.exports=a(90)},61:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),l=a.n(c),u="".concat("http://pistachiomarket.ml","/api"),o=("".concat(u,"/v1/categories"),"".concat(u,"/v1/products")),s="".concat(u,"/v1/car"),i=a(23),m=a(12),p={shoppingCar:{},carHasItems:!1,page:1,perPage:10,selectedCats:[],filterName:null,numberItems:0},d=Object(r.createContext)(p),f=d.Provider,v="SET_SHOPPING_CAR",E=function(e){var t=e.children,a=Object(r.useReducer)((function(e,t){var a;switch(t.type){case v:var r=(null===(a=t.value.carItems)||void 0===a?void 0:a.length)||0,n=r>0;return Object(i.a)(Object(i.a)({},e),{},{shoppingCar:t.value,carHasItems:n,numberItems:r});default:return Object(i.a)({},e)}}),p),c=Object(m.a)(a,2),l=c[0],u=c[1];return n.a.createElement(f,{value:{state:l,dispatch:u}},t)},g=a(6),b=a.n(g),h=a(7);a(61);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var O=n.a.createElement("g",null),w=n.a.createElement("g",null),C=n.a.createElement("g",null),k=n.a.createElement("g",null),j=n.a.createElement("g",null),S=n.a.createElement("g",null),I=n.a.createElement("g",null),P=n.a.createElement("g",null),D=n.a.createElement("g",null),N=n.a.createElement("g",null),A=n.a.createElement("g",null),M=n.a.createElement("g",null),F=n.a.createElement("g",null),R=n.a.createElement("g",null),B=n.a.createElement("g",null),z=function(e){var t=e.svgRef,a=e.title,r=x(e,["svgRef","title"]);return n.a.createElement("svg",y({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 50.77 50.77",style:{enableBackground:"new 0 0 50.77 50.77"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,n.a.createElement("g",null,n.a.createElement("path",{style:{fill:"#EDD194"},d:"M23.982,5.735c-4.776,2.118-9.308,5.111-13.141,8.933c-0.025,0.025-0.05,0.05-0.075,0.075 c-2.495,2.493-4.764,5.21-6.696,8.065l0,0c-6.988,11.984-2.986,23.296-2.398,25.571l0,0l0,0 c2.275,0.588,21.131-16.61,23.624-19.106c2.495-2.493,4.764-5.21,6.696-8.065l0,0C38.981,9.223,39.342,2.275,38.754,0l0,0l0,0 C37.421,0.07,29.386,3.339,23.982,5.735z"}),n.a.createElement("g",null,n.a.createElement("g",null,n.a.createElement("path",{style:{fill:"#AEBB00"},d:"M44.376,12.427c0.284-1.787,1.847-5.351,2.387-6.522c0.683-1.482,1.078-4.227-2.639-2.642 c-2.218,0.946-4.208,2.081-5.585,2.252c-0.526,2.643-1.641,6.127-3.752,10.474C38.665,14.105,41.855,13.016,44.376,12.427z"}))),n.a.createElement("path",{style:{fill:"#F4DDA4"},d:"M36.103,39.929c3.822-3.833,6.815-8.365,8.933-13.141c2.396-5.404,5.664-13.439,5.735-14.772l0,0 c-1.921-0.497-7.188-0.3-15.992,3.975c-0.788,1.622-1.698,3.351-2.786,5.216l0,0c-1.933,2.855-4.201,5.572-6.696,8.065 c-2.276,2.278-18.18,16.8-22.667,18.868c-0.197,0.428-0.289,0.759-0.237,0.957l0,0c2.275,0.588,13.586,4.591,25.571-2.398 c2.855-1.933,5.572-4.201,8.065-6.696C36.053,39.979,36.078,39.954,36.103,39.929z"}),n.a.createElement("path",{style:{fill:"#CCA672"},d:"M15.491,18.27c-0.25,0-0.5-0.093-0.693-0.279c-0.398-0.383-0.41-1.016-0.027-1.414 c2.345-2.437,4.986-4.46,7.85-6.012c0.486-0.262,1.093-0.083,1.356,0.402c0.263,0.485,0.083,1.093-0.403,1.355 c-2.683,1.454-5.16,3.353-7.361,5.641C16.015,18.167,15.753,18.27,15.491,18.27z"}),n.a.createElement("path",{style:{fill:"#CCA672"},d:"M28.368,9.653c-0.356,0-0.701-0.19-0.881-0.525c-0.262-0.486-0.08-1.093,0.406-1.355l0.21-0.113 c0.815-0.439,1.658-0.895,2.543-1.246c0.513-0.201,1.095,0.049,1.298,0.561c0.204,0.514-0.047,1.095-0.561,1.299 c-0.776,0.308-1.531,0.715-2.331,1.146l-0.212,0.115C28.69,9.615,28.528,9.653,28.368,9.653z"}),n.a.createElement("path",{style:{fill:"#CCA672"},d:"M4.531,41.763c-0.331,0-0.654-0.164-0.845-0.463c-1.321-2.077-0.343-6.96-0.133-7.918 c0.119-0.54,0.654-0.88,1.19-0.763c0.54,0.117,0.881,0.65,0.764,1.19c-0.447,2.049-0.784,5.394-0.133,6.416 c0.296,0.467,0.159,1.085-0.307,1.381C4.9,41.712,4.714,41.763,4.531,41.763z"})),O,w,C,k,j,S,I,P,D,N,A,M,F,R,B)},H=n.a.forwardRef((function(e,t){return n.a.createElement(z,y({svgRef:t},e))})),T=(a.p,a(100)),U=a(94),L=a(99),$=(a(36),a(93));function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function q(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var J=n.a.createElement("g",null),W=n.a.createElement("g",null),G=n.a.createElement("g",null),V=n.a.createElement("g",null),K=n.a.createElement("g",null),Q=n.a.createElement("g",null),X=n.a.createElement("g",null),Y=n.a.createElement("g",null),Z=n.a.createElement("g",null),ee=n.a.createElement("g",null),te=n.a.createElement("g",null),ae=n.a.createElement("g",null),re=n.a.createElement("g",null),ne=n.a.createElement("g",null),ce=n.a.createElement("g",null),le=function(e){var t=e.svgRef,a=e.title,r=q(e,["svgRef","title"]);return n.a.createElement("svg",_({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 490.674 490.674",style:{enableBackground:"new 0 0 490.674 490.674"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,n.a.createElement("g",null,n.a.createElement("circle",{style:{fill:"#455A64"},cx:394.667,cy:426.671,r:53.333}),n.a.createElement("circle",{style:{fill:"#455A64"},cx:181.333,cy:426.671,r:53.333})),n.a.createElement("path",{style:{fill:"#FFC107"},d:"M488,78.276c-2.026-2.294-4.94-3.607-8-3.605H96c-5.891-0.001-10.668,4.773-10.669,10.664 c0,0.717,0.072,1.433,0.216,2.136l42.667,213.333c1.014,4.967,5.384,8.534,10.453,8.533c0.469,0.031,0.939,0.031,1.408,0l320-42.667 c4.807-0.642,8.576-4.446,9.173-9.259l21.333-170.667C490.989,83.681,490.047,80.592,488,78.276z"}),n.a.createElement("g",null,n.a.createElement("path",{style:{fill:"#FAFAFA"},d:"M181.333,266.671c-5.214-0.002-9.662-3.774-10.517-8.917l-21.333-128 c-0.791-5.838,3.3-11.211,9.138-12.002c5.59-0.758,10.804,2.969,11.897,8.504l21.333,128c0.963,5.808-2.961,11.298-8.768,12.267 C182.505,266.622,181.92,266.672,181.333,266.671z"}),n.a.createElement("path",{style:{fill:"#FAFAFA"},d:"M234.667,256.004c-5.536,0.022-10.169-4.193-10.667-9.707l-10.667-117.333 c-0.552-5.865,3.755-11.067,9.621-11.619c0.029-0.003,0.057-0.005,0.086-0.008c5.867-0.531,11.053,3.796,11.584,9.663 c0,0,0,0.001,0,0.001l10.667,117.333c0.53,5.867-3.796,11.053-9.663,11.584c0,0-0.001,0-0.001,0L234.667,256.004z"}),n.a.createElement("path",{style:{fill:"#FAFAFA"},d:"M288,245.337c-5.891,0-10.667-4.776-10.667-10.667V128.004c0-5.891,4.776-10.667,10.667-10.667 c5.891,0,10.667,4.776,10.667,10.667v106.667C298.667,240.562,293.891,245.337,288,245.337z"}),n.a.createElement("path",{style:{fill:"#FAFAFA"},d:"M341.333,234.671h-1.195c-5.858-0.62-10.104-5.872-9.484-11.731 c0.004-0.036,0.008-0.073,0.012-0.109l10.667-96c0.692-5.867,5.963-10.093,11.84-9.493c5.855,0.648,10.077,5.919,9.43,11.775 c0,0,0,0.001,0,0.001l-10.667,96C351.368,230.543,346.793,234.667,341.333,234.671z"}),n.a.createElement("path",{style:{fill:"#FAFAFA"},d:"M394.667,224.004c-5.891-0.002-10.665-4.779-10.664-10.67c0-0.869,0.107-1.735,0.317-2.578 l21.333-85.333c1.293-5.747,7.001-9.358,12.748-8.065c5.747,1.293,9.358,7.001,8.065,12.748c-0.036,0.161-0.076,0.321-0.12,0.48 l-21.333,85.333C403.829,220.669,399.562,224.003,394.667,224.004z"})),n.a.createElement("path",{style:{fill:"#455A64"},d:"M437.333,352.004H191.125c-35.558-0.082-66.155-25.16-73.216-60.011L65.92,32.004H10.667 C4.776,32.004,0,27.228,0,21.337s4.776-10.667,10.667-10.667h64c5.07-0.001,9.439,3.566,10.453,8.533l53.717,268.587 c5.035,24.896,26.888,42.817,52.288,42.88h246.208c5.891,0,10.667,4.776,10.667,10.667C448,347.228,443.224,352.004,437.333,352.004 z"}),J,W,G,V,K,Q,X,Y,Z,ee,te,ae,re,ne,ce)},ue=n.a.forwardRef((function(e,t){return n.a.createElement(le,_({svgRef:t},e))}));a.p;function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function se(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var ie=n.a.createElement("g",null),me=n.a.createElement("g",null),pe=n.a.createElement("g",null),de=n.a.createElement("g",null),fe=n.a.createElement("g",null),ve=n.a.createElement("g",null),Ee=n.a.createElement("g",null),ge=n.a.createElement("g",null),be=n.a.createElement("g",null),he=n.a.createElement("g",null),ye=n.a.createElement("g",null),xe=n.a.createElement("g",null),Oe=n.a.createElement("g",null),we=n.a.createElement("g",null),Ce=n.a.createElement("g",null),ke=function(e){var t=e.svgRef,a=e.title,r=se(e,["svgRef","title"]);return n.a.createElement("svg",oe({id:"Capa_1",x:"0px",y:"0px",viewBox:"0 0 512.015 512.015",style:{enableBackground:"new 0 0 512.015 512.015"},xmlSpace:"preserve",ref:t},r),a?n.a.createElement("title",null,a):null,n.a.createElement("path",{style:{fill:"#FFC107"},d:"M509.739,89.437c-2.022-2.586-5.122-4.097-8.405-4.096H96c-5.891-0.001-10.668,4.773-10.669,10.664 c0,0.717,0.072,1.433,0.216,2.136l42.667,213.333c1.079,5.531,6.274,9.269,11.861,8.533l320-42.667c4.339-0.58,7.883-3.752,8.939-8 L511.68,98.674C512.505,95.461,511.787,92.046,509.739,89.437z"}),n.a.createElement("g",null,n.a.createElement("circle",{style:{fill:"#455A64"},cx:394.667,cy:437.341,r:53.333}),n.a.createElement("circle",{style:{fill:"#455A64"},cx:181.333,cy:437.341,r:53.333}),n.a.createElement("path",{style:{fill:"#455A64"},d:"M191.125,362.674h246.208c5.891,0,10.667-4.776,10.667-10.667c0-5.891-4.776-10.667-10.667-10.667 H191.125c-25.408-0.053-47.272-17.976-52.309-42.88L85.12,29.874c-1.014-4.967-5.384-8.534-10.453-8.533h-64 C4.776,21.341,0,26.116,0,32.007s4.776,10.667,10.667,10.667H65.92l51.989,259.968 C124.954,337.505,155.557,362.598,191.125,362.674z"})),ie,me,pe,de,fe,ve,Ee,ge,be,he,ye,xe,Oe,we,Ce)},je=n.a.forwardRef((function(e,t){return n.a.createElement(ke,oe({svgRef:t},e))})),Se=(a.p,a(29)),Ie=a.n(Se);function Pe(){var e=null,t=null,a=!0,r=200;return{setError:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:404;t=e,r=Number(n),a=!1},setSuccess:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;e=t,r=Number(n),a=!0},setMessage:function(e,n){t=e,r=Number(n),a=!0},resolve:function(){return{data:e,message:t,success:a,statusCode:r}}}}var De=function(e,t){e.setError(t&&t.data?t.data.error:"Something went wrong!",t.status)},Ne=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,r,n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={orderId:0,productDetailId:t.id,quantity:1},r=new Pe,e.prev=2,e.next=5,Ie.a.post("".concat(s),a);case 5:n=e.sent,r.setSuccess(n.data,n.status),e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(2),c=null===e.t0||void 0===e.t0?void 0:e.t0.response,e.t0){e.next=15;break}return r.setError("Something went wrong!",500),e.abrupt("return",r.resolve());case 15:De(r,c);case 16:return e.abrupt("return",r.resolve());case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(h.a)(b.a.mark((function e(t,a){var r,n,c,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={orderId:t.id,productDetailId:a.id,quantity:1},n=new Pe,e.prev=2,e.next=5,Ie.a.post("".concat(s,"/").concat(t.idMask,"/item"),r);case 5:c=e.sent,n.setSuccess(c.data,c.status),e.next=16;break;case 9:if(e.prev=9,e.t0=e.catch(2),l=null===e.t0||void 0===e.t0?void 0:e.t0.response,e.t0){e.next=15;break}return n.setError("Something went wrong!",500),e.abrupt("return",n.resolve());case 15:De(n,l);case 16:return e.abrupt("return",n.resolve());case 17:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Me=function(){var e=Object(h.a)(b.a.mark((function e(t,a){var r,n,c,l,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(s,"/").concat(t.idMask,"/item"),n={orderId:t.id,productDetailId:a.productDetailId,quantity:1},c=new Pe,e.prev=3,e.next=6,Ie.a.put(r,n);case 6:l=e.sent,c.setSuccess(l.data,l.status),e.next=17;break;case 10:if(e.prev=10,e.t0=e.catch(3),u=null===e.t0||void 0===e.t0?void 0:e.t0.response,e.t0){e.next=16;break}return c.setError("Something went wrong!",500),e.abrupt("return",c.resolve());case 16:De(c,u);case 17:return e.abrupt("return",c.resolve());case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Pe,e.prev=1,e.next=4,Ie.a.delete("".concat(s,"/").concat(t.idMask));case 4:r=e.sent,a.setMessage(r.data.message,r.status),e.next=15;break;case 8:if(e.prev=8,e.t0=e.catch(1),n=null===e.t0||void 0===e.t0?void 0:e.t0.response,e.t0){e.next=14;break}return a.setError("Something went wrong!",500),e.abrupt("return",a.resolve());case 14:De(a,n);case 15:return e.abrupt("return",a.resolve());case 16:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),Re=function(e,t){if((null===t||void 0===t?void 0:t.length)>0){var a=t.filter((function(t){return t.productDetailId===e}));return!!(a&&a.length>0)}return!1},Be=function(){var e=Object(h.a)(b.a.mark((function e(t,a){var r,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((null===t||void 0===t?void 0:t.length)>0)){e.next=5;break}return r=t.filter((function(e){return e.productDetailId===a.productDetailId})),(n=t.indexOf(r[0]))>-1&&t.splice(n,1),e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ze=function(e){return Object(i.a)(Object(i.a)({},e),{},{total:0,taxes:0,items:0,orderPriceDetail:{items:0,total:0},carItems:[]})};function He(e){var t=e.carItem,a=e.removeItem,r=t.name,c=t.firtsUrlImage,l=t.productDetail,u=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"car-product-item"},n.a.createElement("div",{className:"car-product-info"},n.a.createElement("img",{src:c,alt:r}),n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("h4",null,r.substring(0,25)),n.a.createElement("p",{className:"price-detail"},"$ ",l.price," USD")))),n.a.createElement("div",{className:"buttons-quantity"},n.a.createElement($.a,{onClick:function(){return u(t)},className:"button-remove",variant:"outline-primary"},"Remove")))}var Te=a(10);function Ue(e){var t=Object(r.useContext)(d),a=t.state,c=t.dispatch,l=a.shoppingCar,u=l.carItems,o=void 0===u?[]:u,s=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(l,t);case 2:if((a=e.sent).success){e.next=6;break}return Te.b.error("Error removing product: ".concat(a.message)),e.abrupt("return");case 6:return e.next=8,Be(o,t);case 8:e.sent&&(l.orderPriceDetail=a.data,l.carItems=o,0===o.length&&(r=ze(l),l.orderPriceDetail=r.orderPriceDetail),c({type:v,value:l}),Te.b.success("Item was removed."));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"car-product-container"},o.map((function(e,t){return n.a.createElement(He,{key:t,carItem:e,removeItem:s})})))}function Le(){var e=Object(r.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(r.useContext)(d).state.carHasItems,u=a?350:0,o=function(){c(!a),document.body.classList.toggle("body-no-scroll",!a)};return n.a.createElement("div",null,n.a.createElement($.a,{variant:"link",className:"car-button"},l?n.a.createElement(je,{onClick:function(){return o()}}):n.a.createElement(ue,{onClick:function(){return o()}})),n.a.createElement("div",{className:"car-products",style:{width:u}},n.a.createElement($e,{toggleCar:o}),n.a.createElement(Ue,null),n.a.createElement(_e,null)))}function $e(e){var t=e.toggleCar;return n.a.createElement("div",{className:"car-products-header"},n.a.createElement("div",null,n.a.createElement($.a,{className:"button-close",onClick:function(){return t()},variant:"outline-success"},"Close")))}function _e(){var e=Object(r.useContext)(d),t=e.state,a=e.dispatch,c=t.shoppingCar,l=c.orderPriceDetail,u=function(){var e=Object(h.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe(c);case 2:if((t=e.sent).success){e.next=6;break}return Te.b.error("Error empty car: ".concat(t.message)),e.abrupt("return");case 6:r=ze(c),a({type:v,value:r}),Te.b.success("Shopping car is now empty.");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"car-products-footer"},n.a.createElement("div",null),n.a.createElement($.a,{className:"button-empty",onClick:function(){return u()},variant:"outline-warning"},"Empty"),n.a.createElement("div",{className:"total-details"},n.a.createElement("p",null,(null===l||void 0===l?void 0:l.items)||0," Units"),n.a.createElement("p",null,"Total: $ ",(null===l||void 0===l?void 0:l.total)||0," USD")))}function qe(){return n.a.createElement(T.a,{bg:"dark",variant:"dark",className:"main-header"},n.a.createElement(U.a,{className:""},n.a.createElement(Je,null)),n.a.createElement(U.a,null,n.a.createElement(We,null),n.a.createElement(Le,null)))}function Je(){return n.a.createElement(T.a.Brand,null,n.a.createElement(H,null),n.a.createElement(T.a.Brand,{href:"#home"},"Pistachio Market"))}function We(){return n.a.createElement(L.a,{className:"mr-auto"})}a(83);var Ge=a(97),Ve=a(95);a(84);function Ke(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),a=t[0];t[1];return n.a.createElement("div",{className:"loading"},n.a.createElement(Ve.a,{animation:"border"}),n.a.createElement("h3",null,"Loading",a))}var Qe=a(101);function Xe(e){var t=e.category.name;e.summary;return n.a.createElement(Qe.a.Text,null,t)}function Ye(e){var t=e.detail,a=(t.id,t.code,t.description),r=(t.netPrice,t.taxRate,t.tax,t.price),c=(t.stock,t.disabled,e.showSummary);return n.a.createElement("div",null,c?n.a.createElement(Qe.a.Text,null,"$ ",r.toFixed(2)," USD"):n.a.createElement("div",null,n.a.createElement(Qe.a.Text,null,"$ ",r.toFixed(2)," USD"),n.a.createElement(Qe.a.Text,null,a)))}a(85);function Ze(e){var t=e.image,a=e.showDetailModal;return n.a.createElement(Qe.a.Img,{onClick:function(){return a()},className:"list-product-image",variant:"top",src:null===t||void 0===t?void 0:t.url})}var et=a(96),tt=a(98);a(86);function at(e){var t=Object(r.useState)(!1),a=Object(m.a)(t,2),c=a[0],l=a[1],u=e.product,o=e.showSummary,s=e.addProductToCar,i=u.details[0],p=function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(et.a,{xs:6,md:4,lg:3,className:"product"},n.a.createElement(Qe.a,null,n.a.createElement(Ze,{showDetailModal:function(){return l(!0)},image:u.images[0]}),n.a.createElement(Qe.a.Body,null,n.a.createElement(Qe.a.Title,null,u.name),n.a.createElement(Ye,{detail:i,showSummary:o}),n.a.createElement(Xe,{category:u.category}),n.a.createElement($.a,{variant:"outline-primary",onClick:function(){return p(i)}},"Add to car"))),n.a.createElement(tt.a,{show:c,onHide:function(){return l(!1)},animation:!1},n.a.createElement(rt,{name:u.name,detail:i,setShowDetail:l,images:u.images})))}function rt(e){var t=e.name,a=e.detail,r=e.setShowDetail,c=e.images,l=void 0===c?[]:c,u=a.code,o=a.description,s=a.taxRate,i=a.tax,m=a.price,p=a.stock;return n.a.createElement("div",null,n.a.createElement(tt.a.Header,{closeButton:!0},n.a.createElement(tt.a.Title,null,t," - Code: ",u)),n.a.createElement(tt.a.Body,null,n.a.createElement(Ge.a,null,n.a.createElement(et.a,null,n.a.createElement(Qe.a,null,n.a.createElement(Qe.a.Img,{className:"list-product-image",variant:"top",src:l[0].url||null}))),n.a.createElement(et.a,null,n.a.createElement("p",null,o),n.a.createElement("p",null,"Price: $",m," USD"),n.a.createElement("p",null,"Tax rate: ",s,"%"),n.a.createElement("p",null,"Tax: $",i," USD"),n.a.createElement("p",null,"Stock: ",p," units")))),n.a.createElement(tt.a.Footer,null,n.a.createElement($.a,{variant:"secondary",onClick:function(){return r(!1)}},"Close")))}function nt(e){var t=Object(r.useContext)(d),a=t.state,c=t.dispatch,l=a.shoppingCar,u=(a.page,a.perPage,a.filterName,a.selectedCats,e.data),o=e.saveCarChanges,s=u||{},i=s.result,m=s.loading,p=(s.error,i?i.result:[]),f=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.id){e.next=12;break}return e.next=3,Ne(t);case 3:if((a=e.sent).success){e.next=7;break}return Te.b.error("Creating car error: ".concat(a.message)),e.abrupt("return");case 7:return a.data.orderPriceDetail=a.data.carItems[0].orderPriceDetail,o(a.data),Te.b.success("Product was added."),c({type:v,value:a.data}),e.abrupt("return");case 12:if(!Re(t.id,l.carItems)){e.next=16;break}return Te.b.info("Item already exist"),e.abrupt("return");case 16:return e.next=18,Ae(l,t);case 18:if((r=e.sent).success){e.next=22;break}return Te.b.error("Error adding product: ".concat(r.message)),e.abrupt("return");case 22:l.carItems.push(r.data),l.orderPriceDetail=r.data.orderPriceDetail,o(r.data),Te.b.success("Product was added."),c({type:v,value:l});case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement(U.a,{className:"product-list"},n.a.createElement(Ge.a,null,m||!p?n.a.createElement(Ke,null):p.map((function(e,t){return n.a.createElement(at,{key:e.id,product:e,showSummary:!0,addProductToCar:f})}))))}function ct(){var e=Object(r.useContext)(d),t=e.state,a=e.dispatch,c=t.shoppingCar,l=t.itemsCount,u=function(){var e=Object(r.useContext)(d).state,t=e.page,a=e.perPage,n=e.filterName,c=e.selectedCats,l=Object(r.useState)(!0),u=Object(m.a)(l,2),s=u[0],i=u[1],p=Object(r.useState)(null),f=Object(m.a)(p,2),v=f[0],E=f[1],g=Object(r.useState)(null),y=Object(m.a)(g,2),x=y[0],O=y[1],w="".concat(o,"/?page=").concat(t,"&per_page=").concat(a).concat(n?"&"+n:"").concat(c&&c.length>0?"&"+c.join(","):"");return Object(r.useEffect)((function(){Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(w);case 3:if(!(t=e.sent).ok){e.next=12;break}return e.t0=E,e.next=8,t.json();case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 12:O(t);case 13:e.next=18;break;case 15:e.prev=15,e.t2=e.catch(0),O(e.t2);case 18:i(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()}),[w]),{loading:s,result:v,error:x}}();Object(r.useEffect)((function(){s()}),[l]);var s=function(){if(c.id)i(c);else{var e=p("pistachoMarketCar");e&&a({type:v,value:e})}},i=function(e){localStorage.setItem("pistachoMarketCar",JSON.stringify(e))},p=function(){var e=localStorage.getItem("pistachoMarketCar");return e?JSON.parse(e):{}};return n.a.createElement("div",null,n.a.createElement(qe,null),n.a.createElement(nt,{data:u,saveCarChanges:i}),n.a.createElement(Te.a,{position:"top-left",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(87),a(88),a(89);var lt=n.a.createElement(E,null,n.a.createElement(n.a.StrictMode,null,n.a.createElement(ct,null)));l.a.render(lt,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);
//# sourceMappingURL=main.af86276c.chunk.js.map